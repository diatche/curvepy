<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.1" />
<title>func.quotes API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>func.quotes</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from .func import Func, MIN_STEP
from .map import Map
from .points import Points
from intervalpy import Interval
from pyduration import Duration

OHLC_KEYS = [&#39;open&#39;, &#39;high&#39;, &#39;low&#39;, &#39;close&#39;, &#39;volume&#39;]
OHLC_POINT_COUNT = len(OHLC_KEYS)
OHLC_STEPS = OHLC_POINT_COUNT - 1
QUOTE_MIN_STEP_COEFFICIENT = 0.1

OPEN = 0
HIGH = 1
LOW = 2
CLOSE = 3
VOLUME = 4


class Quotes(Func):
    &#34;&#34;&#34;
    Represents quotes as [open, high, low, close, (volume)].
    &#34;&#34;&#34;

    @property
    def close(self):
        if self._close is None:
            self._close = Map(
                self,
                lambda q: q[CLOSE],
                skip_none=True,
                name=&#39;close&#39;
            )
        return self._close

    @property
    def open(self):
        if self._open is None:
            self._open = Map(
                self,
                lambda q: q[OPEN],
                skip_none=True,
                name=&#39;open&#39;
            )
        return self._open

    @property
    def high(self):
        if self._high is None:
            self._high = Map(
                self,
                lambda q: q[HIGH],
                skip_none=True,
                name=&#39;high&#39;
            )
        return self._high

    @property
    def low(self):
        if self._low is None:
            self._low = Map(
                self,
                lambda q: q[LOW],
                skip_none=True,
                name=&#39;low&#39;
            )
        return self._low

    @property
    def hl2(self):
        if self._hl2 is None:
            self._hl2 = Map(
                self,
                lambda q: (q[HIGH] + q[LOW]) / 2,
                skip_none=True,
                name=&#39;hl2&#39;
            )
        return self._hl2

    @property
    def volume(self):
        if self._volume is None:
            self._volume = Map(
                self,
                lambda q: q[VOLUME],
                skip_none=True,
                name=&#39;volume&#39;
            )
        return self._volume

    def get_domain(self):
        return self._quote_points.domain
        # if domain.is_empty:
        #     return domain
        # return self.duration.span(domain, start_open=False)

    def __init__(self, duration, quote_points=None, **kwargs):
        &#34;&#34;&#34;
        `quote_points` are assumed to be in the form [timestamp, [o, h, l, c, v]]
        in strict ascending order with no gaps and with the same duration as the receiver.
        &#34;&#34;&#34;
        duration = Duration.parse(duration)
        self.duration = duration
        super().__init__(min_step=duration.min_seconds * 0.01, **kwargs)
        self._quote_points = Points(
            [], interpolation=Points.interpolation.previous, uniform=duration.is_uniform)
        self._quote_points.add_observer(begin=self.begin_update, end=self.end_update, prioritize=True)
        self._close = None
        self._open = None
        self._high = None
        self._low = None
        self._hl2 = None
        self._ohlc = None
        self._volume = None
        if quote_points is not None:
            self.set(quote_points)

    def __repr__(self):
        try:
            return f&#39;quotes({self.duration})&#39;
        except Exception as e:
            return super().__repr__() + f&#39;({e})&#39;

    def last_quote(self):
        return self.y_end()

    def first_quote(self):
        return self.y_start()

    def get_range(self, domain=None, **kwargs):
        quotes = self.sample(domain=domain, **kwargs)
        low = None
        high = None
        for q in quotes:
            if low is None or q.low &lt; low:
                low = q.low
            if high is None or q.high &gt; high:
                high = q.high
        if low is None or high is None:
            return Interval.empty()
        return Interval(low, high)

    def ao(self):
        &#34;&#34;&#34;
        The Awesome Oscillator is an indicator used to measure market momentum.
        AO calculates the difference of a 34 Period and 5 Period Simple Moving Averages.
        The Simple Moving Averages that are used are not calculated using closing
        price but rather each bar&#39;s midpoints. AO is generally used to affirm trends
        or to anticipate possible reversals.
        &#34;&#34;&#34;
        uniform = self.duration.is_uniform
        return self.hl2.sma(5, uniform=uniform) - self.hl2.sma(34, uniform=uniform)

    def alligator(self):
        &#34;&#34;&#34;
        The Alligator indicator uses three smoothed moving averages, set at five,
        eight and 13 periods, which are all Fibonacci numbers. The initial smoothed
        average is calculated with a simple moving average (SMA), adding additional
        smoothed averages that slow down indicator turns.
        &#34;&#34;&#34;
        uniform = self.duration.is_uniform
        jaw = self.hl2.sma(13, uniform=uniform).offset(8, duration=self.duration)
        teeth = self.hl2.sma(8, uniform=uniform).offset(5, duration=self.duration)
        lips = self.hl2.sma(5, uniform=uniform).offset(3, duration=self.duration)
        return jaw, teeth, lips

    def trailing_high(self, degree, is_period=False):
        return self.high.trailing_max(degree, is_period=is_period, interpolation=-1, uniform=self.duration.is_uniform)

    def trailing_low(self, degree, is_period=False):
        return self.low.trailing_max(degree, is_period=is_period, interpolation=-1, uniform=self.duration.is_uniform)

    def append(self, quote_point):
        &#34;&#34;&#34;
        `quote_points` are assumed to be in the form [timestamp, [o, h, l, c, v]]
        in strict ascending order with no gaps and with the same duration as the receiver.
        &#34;&#34;&#34;
        self.append_list([quote_point])

    def append_list(self, quote_points):
        &#34;&#34;&#34;
        `quote_points` are assumed to be in the form [timestamp, [o, h, l, c, v]]
        in strict ascending order with no gaps and with the same duration as the receiver.
        &#34;&#34;&#34;
        if self.domain.is_empty:
            return self.set(quote_points)
        self._quote_points.append_list(quote_points)

    def set(self, quote_points):
        &#34;&#34;&#34;
        `quote_points` are assumed to be in the form [timestamp, [o, h, l, c, v]]
        in strict ascending order with no gaps and with the same duration as the receiver.
        &#34;&#34;&#34;
        self._quote_points.set(quote_points)

    def sample(self, domain=None, min_step=MIN_STEP, step=None):
        points = self.sample_points(
            domain=domain,
            min_step=min_step,
            step=step
        )
        return [p[1] for p in points]

    def sample_points(self, domain=None, min_step=MIN_STEP, step=None):
        domain = Interval.parse(domain, default_inf=True)
        if domain.is_empty:
            return []
        pinterval = self.duration.span(domain, start_open=False)
        return self._quote_points.sample_points(domain=pinterval, min_step=min_step, step=step)

    def y(self, x):
        return self._quote_points.y(x)

    def x_next(self, x, min_step=MIN_STEP, limit=None):
        # return self.duration.next(x)
        return self._quote_points.x_next(x, min_step=min_step, limit=limit)

    def x_previous(self, x, min_step=MIN_STEP, limit=None):
        # return self.duration.previous(x)
        return self._quote_points.x_previous(x, min_step=min_step, limit=limit)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="func.quotes.Quotes"><code class="flex name class">
<span>class <span class="ident">Quotes</span></span>
<span>(</span><span>duration, quote_points=None, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Represents quotes as [open, high, low, close, (volume)].</p>
<p><code>quote_points</code> are assumed to be in the form [timestamp, [o, h, l, c, v]]
in strict ascending order with no gaps and with the same duration as the receiver.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Quotes(Func):
    &#34;&#34;&#34;
    Represents quotes as [open, high, low, close, (volume)].
    &#34;&#34;&#34;

    @property
    def close(self):
        if self._close is None:
            self._close = Map(
                self,
                lambda q: q[CLOSE],
                skip_none=True,
                name=&#39;close&#39;
            )
        return self._close

    @property
    def open(self):
        if self._open is None:
            self._open = Map(
                self,
                lambda q: q[OPEN],
                skip_none=True,
                name=&#39;open&#39;
            )
        return self._open

    @property
    def high(self):
        if self._high is None:
            self._high = Map(
                self,
                lambda q: q[HIGH],
                skip_none=True,
                name=&#39;high&#39;
            )
        return self._high

    @property
    def low(self):
        if self._low is None:
            self._low = Map(
                self,
                lambda q: q[LOW],
                skip_none=True,
                name=&#39;low&#39;
            )
        return self._low

    @property
    def hl2(self):
        if self._hl2 is None:
            self._hl2 = Map(
                self,
                lambda q: (q[HIGH] + q[LOW]) / 2,
                skip_none=True,
                name=&#39;hl2&#39;
            )
        return self._hl2

    @property
    def volume(self):
        if self._volume is None:
            self._volume = Map(
                self,
                lambda q: q[VOLUME],
                skip_none=True,
                name=&#39;volume&#39;
            )
        return self._volume

    def get_domain(self):
        return self._quote_points.domain
        # if domain.is_empty:
        #     return domain
        # return self.duration.span(domain, start_open=False)

    def __init__(self, duration, quote_points=None, **kwargs):
        &#34;&#34;&#34;
        `quote_points` are assumed to be in the form [timestamp, [o, h, l, c, v]]
        in strict ascending order with no gaps and with the same duration as the receiver.
        &#34;&#34;&#34;
        duration = Duration.parse(duration)
        self.duration = duration
        super().__init__(min_step=duration.min_seconds * 0.01, **kwargs)
        self._quote_points = Points(
            [], interpolation=Points.interpolation.previous, uniform=duration.is_uniform)
        self._quote_points.add_observer(begin=self.begin_update, end=self.end_update, prioritize=True)
        self._close = None
        self._open = None
        self._high = None
        self._low = None
        self._hl2 = None
        self._ohlc = None
        self._volume = None
        if quote_points is not None:
            self.set(quote_points)

    def __repr__(self):
        try:
            return f&#39;quotes({self.duration})&#39;
        except Exception as e:
            return super().__repr__() + f&#39;({e})&#39;

    def last_quote(self):
        return self.y_end()

    def first_quote(self):
        return self.y_start()

    def get_range(self, domain=None, **kwargs):
        quotes = self.sample(domain=domain, **kwargs)
        low = None
        high = None
        for q in quotes:
            if low is None or q.low &lt; low:
                low = q.low
            if high is None or q.high &gt; high:
                high = q.high
        if low is None or high is None:
            return Interval.empty()
        return Interval(low, high)

    def ao(self):
        &#34;&#34;&#34;
        The Awesome Oscillator is an indicator used to measure market momentum.
        AO calculates the difference of a 34 Period and 5 Period Simple Moving Averages.
        The Simple Moving Averages that are used are not calculated using closing
        price but rather each bar&#39;s midpoints. AO is generally used to affirm trends
        or to anticipate possible reversals.
        &#34;&#34;&#34;
        uniform = self.duration.is_uniform
        return self.hl2.sma(5, uniform=uniform) - self.hl2.sma(34, uniform=uniform)

    def alligator(self):
        &#34;&#34;&#34;
        The Alligator indicator uses three smoothed moving averages, set at five,
        eight and 13 periods, which are all Fibonacci numbers. The initial smoothed
        average is calculated with a simple moving average (SMA), adding additional
        smoothed averages that slow down indicator turns.
        &#34;&#34;&#34;
        uniform = self.duration.is_uniform
        jaw = self.hl2.sma(13, uniform=uniform).offset(8, duration=self.duration)
        teeth = self.hl2.sma(8, uniform=uniform).offset(5, duration=self.duration)
        lips = self.hl2.sma(5, uniform=uniform).offset(3, duration=self.duration)
        return jaw, teeth, lips

    def trailing_high(self, degree, is_period=False):
        return self.high.trailing_max(degree, is_period=is_period, interpolation=-1, uniform=self.duration.is_uniform)

    def trailing_low(self, degree, is_period=False):
        return self.low.trailing_max(degree, is_period=is_period, interpolation=-1, uniform=self.duration.is_uniform)

    def append(self, quote_point):
        &#34;&#34;&#34;
        `quote_points` are assumed to be in the form [timestamp, [o, h, l, c, v]]
        in strict ascending order with no gaps and with the same duration as the receiver.
        &#34;&#34;&#34;
        self.append_list([quote_point])

    def append_list(self, quote_points):
        &#34;&#34;&#34;
        `quote_points` are assumed to be in the form [timestamp, [o, h, l, c, v]]
        in strict ascending order with no gaps and with the same duration as the receiver.
        &#34;&#34;&#34;
        if self.domain.is_empty:
            return self.set(quote_points)
        self._quote_points.append_list(quote_points)

    def set(self, quote_points):
        &#34;&#34;&#34;
        `quote_points` are assumed to be in the form [timestamp, [o, h, l, c, v]]
        in strict ascending order with no gaps and with the same duration as the receiver.
        &#34;&#34;&#34;
        self._quote_points.set(quote_points)

    def sample(self, domain=None, min_step=MIN_STEP, step=None):
        points = self.sample_points(
            domain=domain,
            min_step=min_step,
            step=step
        )
        return [p[1] for p in points]

    def sample_points(self, domain=None, min_step=MIN_STEP, step=None):
        domain = Interval.parse(domain, default_inf=True)
        if domain.is_empty:
            return []
        pinterval = self.duration.span(domain, start_open=False)
        return self._quote_points.sample_points(domain=pinterval, min_step=min_step, step=step)

    def y(self, x):
        return self._quote_points.y(x)

    def x_next(self, x, min_step=MIN_STEP, limit=None):
        # return self.duration.next(x)
        return self._quote_points.x_next(x, min_step=min_step, limit=limit)

    def x_previous(self, x, min_step=MIN_STEP, limit=None):
        # return self.duration.previous(x)
        return self._quote_points.x_previous(x, min_step=min_step, limit=limit)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="func.func.Func" href="func.html#func.func.Func">Func</a></li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="func.quotes.Quotes.close"><code class="name">var <span class="ident">close</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def close(self):
    if self._close is None:
        self._close = Map(
            self,
            lambda q: q[CLOSE],
            skip_none=True,
            name=&#39;close&#39;
        )
    return self._close</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.high"><code class="name">var <span class="ident">high</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def high(self):
    if self._high is None:
        self._high = Map(
            self,
            lambda q: q[HIGH],
            skip_none=True,
            name=&#39;high&#39;
        )
    return self._high</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.hl2"><code class="name">var <span class="ident">hl2</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def hl2(self):
    if self._hl2 is None:
        self._hl2 = Map(
            self,
            lambda q: (q[HIGH] + q[LOW]) / 2,
            skip_none=True,
            name=&#39;hl2&#39;
        )
    return self._hl2</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.low"><code class="name">var <span class="ident">low</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def low(self):
    if self._low is None:
        self._low = Map(
            self,
            lambda q: q[LOW],
            skip_none=True,
            name=&#39;low&#39;
        )
    return self._low</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.open"><code class="name">var <span class="ident">open</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def open(self):
    if self._open is None:
        self._open = Map(
            self,
            lambda q: q[OPEN],
            skip_none=True,
            name=&#39;open&#39;
        )
    return self._open</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.volume"><code class="name">var <span class="ident">volume</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def volume(self):
    if self._volume is None:
        self._volume = Map(
            self,
            lambda q: q[VOLUME],
            skip_none=True,
            name=&#39;volume&#39;
        )
    return self._volume</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="func.quotes.Quotes.alligator"><code class="name flex">
<span>def <span class="ident">alligator</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>The Alligator indicator uses three smoothed moving averages, set at five,
eight and 13 periods, which are all Fibonacci numbers. The initial smoothed
average is calculated with a simple moving average (SMA), adding additional
smoothed averages that slow down indicator turns.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def alligator(self):
    &#34;&#34;&#34;
    The Alligator indicator uses three smoothed moving averages, set at five,
    eight and 13 periods, which are all Fibonacci numbers. The initial smoothed
    average is calculated with a simple moving average (SMA), adding additional
    smoothed averages that slow down indicator turns.
    &#34;&#34;&#34;
    uniform = self.duration.is_uniform
    jaw = self.hl2.sma(13, uniform=uniform).offset(8, duration=self.duration)
    teeth = self.hl2.sma(8, uniform=uniform).offset(5, duration=self.duration)
    lips = self.hl2.sma(5, uniform=uniform).offset(3, duration=self.duration)
    return jaw, teeth, lips</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.ao"><code class="name flex">
<span>def <span class="ident">ao</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>The Awesome Oscillator is an indicator used to measure market momentum.
AO calculates the difference of a 34 Period and 5 Period Simple Moving Averages.
The Simple Moving Averages that are used are not calculated using closing
price but rather each bar's midpoints. AO is generally used to affirm trends
or to anticipate possible reversals.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def ao(self):
    &#34;&#34;&#34;
    The Awesome Oscillator is an indicator used to measure market momentum.
    AO calculates the difference of a 34 Period and 5 Period Simple Moving Averages.
    The Simple Moving Averages that are used are not calculated using closing
    price but rather each bar&#39;s midpoints. AO is generally used to affirm trends
    or to anticipate possible reversals.
    &#34;&#34;&#34;
    uniform = self.duration.is_uniform
    return self.hl2.sma(5, uniform=uniform) - self.hl2.sma(34, uniform=uniform)</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.append"><code class="name flex">
<span>def <span class="ident">append</span></span>(<span>self, quote_point)</span>
</code></dt>
<dd>
<div class="desc"><p><code>quote_points</code> are assumed to be in the form [timestamp, [o, h, l, c, v]]
in strict ascending order with no gaps and with the same duration as the receiver.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def append(self, quote_point):
    &#34;&#34;&#34;
    `quote_points` are assumed to be in the form [timestamp, [o, h, l, c, v]]
    in strict ascending order with no gaps and with the same duration as the receiver.
    &#34;&#34;&#34;
    self.append_list([quote_point])</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.append_list"><code class="name flex">
<span>def <span class="ident">append_list</span></span>(<span>self, quote_points)</span>
</code></dt>
<dd>
<div class="desc"><p><code>quote_points</code> are assumed to be in the form [timestamp, [o, h, l, c, v]]
in strict ascending order with no gaps and with the same duration as the receiver.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def append_list(self, quote_points):
    &#34;&#34;&#34;
    `quote_points` are assumed to be in the form [timestamp, [o, h, l, c, v]]
    in strict ascending order with no gaps and with the same duration as the receiver.
    &#34;&#34;&#34;
    if self.domain.is_empty:
        return self.set(quote_points)
    self._quote_points.append_list(quote_points)</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.first_quote"><code class="name flex">
<span>def <span class="ident">first_quote</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def first_quote(self):
    return self.y_start()</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.get_domain"><code class="name flex">
<span>def <span class="ident">get_domain</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_domain(self):
    return self._quote_points.domain</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.get_range"><code class="name flex">
<span>def <span class="ident">get_range</span></span>(<span>self, domain=None, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_range(self, domain=None, **kwargs):
    quotes = self.sample(domain=domain, **kwargs)
    low = None
    high = None
    for q in quotes:
        if low is None or q.low &lt; low:
            low = q.low
        if high is None or q.high &gt; high:
            high = q.high
    if low is None or high is None:
        return Interval.empty()
    return Interval(low, high)</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.last_quote"><code class="name flex">
<span>def <span class="ident">last_quote</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def last_quote(self):
    return self.y_end()</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.sample"><code class="name flex">
<span>def <span class="ident">sample</span></span>(<span>self, domain=None, min_step=1e-05, step=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def sample(self, domain=None, min_step=MIN_STEP, step=None):
    points = self.sample_points(
        domain=domain,
        min_step=min_step,
        step=step
    )
    return [p[1] for p in points]</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.sample_points"><code class="name flex">
<span>def <span class="ident">sample_points</span></span>(<span>self, domain=None, min_step=1e-05, step=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def sample_points(self, domain=None, min_step=MIN_STEP, step=None):
    domain = Interval.parse(domain, default_inf=True)
    if domain.is_empty:
        return []
    pinterval = self.duration.span(domain, start_open=False)
    return self._quote_points.sample_points(domain=pinterval, min_step=min_step, step=step)</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.set"><code class="name flex">
<span>def <span class="ident">set</span></span>(<span>self, quote_points)</span>
</code></dt>
<dd>
<div class="desc"><p><code>quote_points</code> are assumed to be in the form [timestamp, [o, h, l, c, v]]
in strict ascending order with no gaps and with the same duration as the receiver.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set(self, quote_points):
    &#34;&#34;&#34;
    `quote_points` are assumed to be in the form [timestamp, [o, h, l, c, v]]
    in strict ascending order with no gaps and with the same duration as the receiver.
    &#34;&#34;&#34;
    self._quote_points.set(quote_points)</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.trailing_high"><code class="name flex">
<span>def <span class="ident">trailing_high</span></span>(<span>self, degree, is_period=False)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def trailing_high(self, degree, is_period=False):
    return self.high.trailing_max(degree, is_period=is_period, interpolation=-1, uniform=self.duration.is_uniform)</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.trailing_low"><code class="name flex">
<span>def <span class="ident">trailing_low</span></span>(<span>self, degree, is_period=False)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def trailing_low(self, degree, is_period=False):
    return self.low.trailing_max(degree, is_period=is_period, interpolation=-1, uniform=self.duration.is_uniform)</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.x_next"><code class="name flex">
<span>def <span class="ident">x_next</span></span>(<span>self, x, min_step=1e-05, limit=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def x_next(self, x, min_step=MIN_STEP, limit=None):
    # return self.duration.next(x)
    return self._quote_points.x_next(x, min_step=min_step, limit=limit)</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.x_previous"><code class="name flex">
<span>def <span class="ident">x_previous</span></span>(<span>self, x, min_step=1e-05, limit=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def x_previous(self, x, min_step=MIN_STEP, limit=None):
    # return self.duration.previous(x)
    return self._quote_points.x_previous(x, min_step=min_step, limit=limit)</code></pre>
</details>
</dd>
<dt id="func.quotes.Quotes.y"><code class="name flex">
<span>def <span class="ident">y</span></span>(<span>self, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def y(self, x):
    return self._quote_points.y(x)</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="func.func.Func" href="func.html#func.func.Func">Func</a></b></code>:
<ul class="hlist">
<li><code><a title="func.func.Func.first" href="func.html#func.func.Func.first">first</a></code></li>
<li><code><a title="func.func.Func.harmonic_smas" href="func.html#func.func.Func.harmonic_smas">harmonic_smas</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="func" href="index.html">func</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="func.quotes.Quotes" href="#func.quotes.Quotes">Quotes</a></code></h4>
<ul class="two-column">
<li><code><a title="func.quotes.Quotes.alligator" href="#func.quotes.Quotes.alligator">alligator</a></code></li>
<li><code><a title="func.quotes.Quotes.ao" href="#func.quotes.Quotes.ao">ao</a></code></li>
<li><code><a title="func.quotes.Quotes.append" href="#func.quotes.Quotes.append">append</a></code></li>
<li><code><a title="func.quotes.Quotes.append_list" href="#func.quotes.Quotes.append_list">append_list</a></code></li>
<li><code><a title="func.quotes.Quotes.close" href="#func.quotes.Quotes.close">close</a></code></li>
<li><code><a title="func.quotes.Quotes.first_quote" href="#func.quotes.Quotes.first_quote">first_quote</a></code></li>
<li><code><a title="func.quotes.Quotes.get_domain" href="#func.quotes.Quotes.get_domain">get_domain</a></code></li>
<li><code><a title="func.quotes.Quotes.get_range" href="#func.quotes.Quotes.get_range">get_range</a></code></li>
<li><code><a title="func.quotes.Quotes.high" href="#func.quotes.Quotes.high">high</a></code></li>
<li><code><a title="func.quotes.Quotes.hl2" href="#func.quotes.Quotes.hl2">hl2</a></code></li>
<li><code><a title="func.quotes.Quotes.last_quote" href="#func.quotes.Quotes.last_quote">last_quote</a></code></li>
<li><code><a title="func.quotes.Quotes.low" href="#func.quotes.Quotes.low">low</a></code></li>
<li><code><a title="func.quotes.Quotes.open" href="#func.quotes.Quotes.open">open</a></code></li>
<li><code><a title="func.quotes.Quotes.sample" href="#func.quotes.Quotes.sample">sample</a></code></li>
<li><code><a title="func.quotes.Quotes.sample_points" href="#func.quotes.Quotes.sample_points">sample_points</a></code></li>
<li><code><a title="func.quotes.Quotes.set" href="#func.quotes.Quotes.set">set</a></code></li>
<li><code><a title="func.quotes.Quotes.trailing_high" href="#func.quotes.Quotes.trailing_high">trailing_high</a></code></li>
<li><code><a title="func.quotes.Quotes.trailing_low" href="#func.quotes.Quotes.trailing_low">trailing_low</a></code></li>
<li><code><a title="func.quotes.Quotes.volume" href="#func.quotes.Quotes.volume">volume</a></code></li>
<li><code><a title="func.quotes.Quotes.x_next" href="#func.quotes.Quotes.x_next">x_next</a></code></li>
<li><code><a title="func.quotes.Quotes.x_previous" href="#func.quotes.Quotes.x_previous">x_previous</a></code></li>
<li><code><a title="func.quotes.Quotes.y" href="#func.quotes.Quotes.y">y</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.1</a>.</p>
</footer>
</body>
</html>